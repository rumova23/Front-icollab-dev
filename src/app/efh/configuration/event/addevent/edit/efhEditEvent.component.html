<div class="row">
    <mdb-breadcrumb customClass="white" class="w-100">
        <mdb-breadcrumb-item class=""><mdb-icon fas icon="cog"></mdb-icon></mdb-breadcrumb-item>
        <mdb-breadcrumb-item class="active">{{titulo}}</mdb-breadcrumb-item>
    </mdb-breadcrumb>
</div>

<form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
  <div class="section">
    <div class="row pb-3">
      <div class="col">
        <p class="section_titulo_0">{{subtitulo}}</p>
      </div>
    </div>
    <div class="row"> <!-- Combos encabezado -->
      <div class="col-md-3">
        <div class="form-group">
          <small class="form-text text-muted text-left">Tipo de Evento:</small>
          <mat-select class="form-control" formControlName="eventTypeControl" (selectionChange)="enableControls($event)" [(value)]="selectedEventType">
            <mat-option class="form-control" [value]="event.id" *ngFor="let event of eventTypesArr">{{event.name}}</mat-option>
          </mat-select>
        </div>
      </div>
      <div class="col-md-3">
        <div class="form-group">
          <small class="form-text text-muted text-left">Unidad:</small>
          <mat-select class="form-control" formControlName="unitControl" [(value)]="selectedUnit">
            <mat-option class="form-control" [value]="unit.id" *ngFor="let unit of unitsArr">{{unit.name}}</mat-option>
          </mat-select>
        </div>
        <div *ngIf="submittedData && !selectedUnit" style="color:red">
          <div>Requerido</div>
        </div>
      </div>
      <div *ngIf="isNormalOperationSectionVisible" class="col-md-3">
        <div class="form-group">
          <small class="form-text text-muted text-left">Tipo de combustible:</small>
          <mat-select class="form-control" formControlName="fuelTypeControl" [(value)]="selectedFuelType">
            <mat-option class="form-control" [value]="fuel.id" *ngFor="let fuel of fuelTypesArr">{{fuel.name}}</mat-option>
          </mat-select>
        </div>
        <div *ngIf="submittedData && !selectedFuelType" style="color:red">
          <div>Requerido</div>
        </div>
      </div>
    </div>
    <br/>
    <div style="border-style: groove; padding: 2%" *ngIf="isShotSectionVisible"><!-- Section Disparo -->
      <div class="row">
        <div class="col">
          <label class="custom-font">Disparo</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha PÃ©rdida de Flama (Flame Off):</small>
            <input type="date" class="form-control" min="{{initDate}}" formControlName="flameOffDateShot"/>
          </div>
          <div *ngIf="submittedData && isShotSectionVisible && f.flameOffDateShot.errors" style="color:red">
            <div *ngIf="f.flameOffDateShot.errors.required">Requerido</div>
          </div>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        <div class="col-md-3">
          <div class="form-group">
              <small class="form-text text-muted" >Carga antes del disparo(MW):</small>
              <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaDisparo [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeShot" (ngModelChange)="isNumeric(cargaDisparo)" min="0" max="200"/>
          </div>
          <div *ngIf="submittedData && isShotSectionVisible && f.chargeShot.errors" style="color:red">
              <div *ngIf="f.chargeShot.errors.required">Requerido</div>
          </div>
          <div *ngIf="isShotSectionVisible && chargeValidation" style="color:red">
              <div>Verifica</div>
          </div>
        </div>
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isStartSectionVisible"><!-- Section Arranque -->
      <div class="row">
          <div class="col">
              <label class="custom-font">Arranque</label>
              <br/>
          </div>
      </div>
      <div class="row">
          <div class="col-md-3">
              <div class="form-group">
                  <small class="form-text text-muted" >Fecha de Arranque:</small>
                  <input type="date" class="form-control" min="{{initDate}}" formControlName="flameOffDateStart"/>
              </div>
              <div *ngIf="submittedData && isStartSectionVisible && f.flameOffDateStart.errors" style="color:red">
                  <div *ngIf="f.flameOffDateStart.errors.required">Requerido</div>
              </div>
              <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
                <div>Validar</div>
              </div>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ha" 
              [options]="hours"
              [withEmptyOption]="false"
              label="Hora"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ma" 
              [options]="minutes"
              [withEmptyOption]="false"
              label="Minuto"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="sa" 
              [options]="seconds"
              [withEmptyOption]="false"
              label="Segundo"
            ></app-mat-select>
          </div> 
          
          <div class="col-md-3">
            <div class="form-group">
              <small class="form-text text-muted" >Fecha Velocidad Plena sin Carga (FSNL):</small>
              <input type="date" class="form-control" type="date" formControlName="fsnlDateStart"/>
            </div>
            <div *ngIf="submittedData && isStartSectionVisible && f.fsnlDateStart.errors" style="color:red">
              <div *ngIf="f.fsnlDateStart.errors.required">Requerido</div>
            </div>
            <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
              <div>Validar</div>
            </div>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="hb" 
              [options]="hours"
              [withEmptyOption]="false"
              label="Hora"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="mb" 
              [options]="minutes"
              [withEmptyOption]="false"
              label="Minuto"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="sb" 
              [options]="seconds"
              [withEmptyOption]="false"
              label="Segundo"
            ></app-mat-select>
          </div> 
          
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isRejectSectionVisible"><!-- Section Rechazo Carga -->
      <div class="row">
        <div class="col">
          <label class="custom-font">Rechazo de Carga</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Rechazo de Carga:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="dateReject"/>
          </div>
          <div *ngIf="submittedData && isRejectSectionVisible && f.dateReject.errors" style="color:red">
            <div *ngIf="f.dateReject.errors.required">Requerido</div>
          </div>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Carga antes del rechazo(MW):</small>
            <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaAntesRechazo [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeReject" (ngModelChange)="isNumeric(cargaAntesRechazo)" min="0" max="200"/>
          </div>
          <div *ngIf="submittedData && isRejectSectionVisible && f.chargeReject.errors" style="color:red">
            <div *ngIf="f.chargeReject.errors.required">Requerido</div>
          </div>
          <div *ngIf="isRejectSectionVisible && chargeValidation" style="color:red">
            <div>Verifica</div>
          </div>
        </div>
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isRunbackSectionVisible"><!-- Section Runback -->
      <div class="row">
        <div class="col">
          <label class="custom-font">Runback</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Inicio del runback:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="startDateRunback"/>
          </div>
          <div *ngIf="submittedData && isRunbackSectionVisible && f.startDateRunback.errors" style="color:red">
            <div *ngIf="f.startDateRunback.errors.required">Requerido</div>
          </div>
          <div *ngIf="runbackDatesValidation && isRunbackSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Fin del runback:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="endDateRunback"/>
          </div>
          <div *ngIf="submittedData && isRunbackSectionVisible && f.endDateRunback.errors" style="color:red">
            <div *ngIf="f.endDateRunback.errors.required">Requerido</div>
          </div>
          <div *ngIf="runbackDatesValidation && isRunbackSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>
        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="hb" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="mb" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sb" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Carga antes del runback(MW):</small>
            <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaAntesRunback [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeBeforeRunback" (ngModelChange)="isNumeric(cargaAntesRunback)" min="0" max="200"/>
          </div>
          <div *ngIf="submittedData && isRunbackSectionVisible && f.chargeBeforeRunback.errors" style="color:red">
            <div *ngIf="f.chargeBeforeRunback.errors.required">Requerido</div>
          </div>
          <div *ngIf="isRunbackSectionVisible && chargeValidation" style="color:red">
            <div>Verifica</div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Carga despuÃ©s del runback(MW):</small>
            <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaDespuesRunback [(ngModel)]="defaultCharge2" class="form-control" type="number" formControlName="chargeAfterRunback" (ngModelChange)="isNumeric2(cargaDespuesRunback)" min="0" max="200"/>
          </div>
          <div *ngIf="submittedData && isRunbackSectionVisible && f.chargeAfterRunback.errors" style="color:red">
            <div *ngIf="f.chargeAfterRunback.errors.required">Requerido</div>
          </div>
          <div *ngIf="isRunbackSectionVisible && charge2Validation" style="color:red">
            <div>Verifica</div>
          </div>
        </div>
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isStopSectionVisible"><!-- Section Paro -->
      <div class="row">
        <div class="col">
          <label class="custom-font">Paro</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha PÃ©rdida de Flama (Flame Off):</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="flameOffDateStop"/>
          </div>
          <div *ngIf="submittedData && isStopSectionVisible && f.flameOffDateStop.errors" style="color:red">
            <div *ngIf="f.flameOffDateStop.errors.required">Requerido</div>
          </div>
          <div *ngIf="stopDatesValidation && isStopSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>
        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Velocidad Plena sin Carga (FSNL):</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="fsnlDateStop"/>
          </div>
          <div *ngIf="submittedData && isStopSectionVisible && f.fsnlDateStop.errors" style="color:red">
            <div *ngIf="f.fsnlDateStop.errors.required">Requerido</div>
          </div>
          <div *ngIf="stopDatesValidation && isStopSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>
        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="hb" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="mb" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sb" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Carga antes del paro(MW):</small>
            <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaAntesParo [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeStop" (ngModelChange)="isNumeric(cargaAntesParo)" min="0" max="200"/>
          </div>
          <div *ngIf="submittedData && isStopSectionVisible && f.chargeStop.errors" style="color:red">
            <div *ngIf="f.chargeStop.errors.required">Requerido</div>
          </div>
          <div *ngIf="isStopSectionVisible && chargeValidation" style="color:red">
            <div>Verifica</div>
          </div>
        </div>
        <div class="col-md-3">
            <div><br></div>
            <div class="form-group">
                <mat-checkbox class="active" color="primary"
                              (change)="changeCheckStopProgrammed();"
                              [checked]="checkedStopProgrammed"
                              [disabled]="deshabiliarEstatus">
                    <mat-label>Programado</mat-label>
                </mat-checkbox>
            </div>
        </div>
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isDieselSectionVisible"><!-- Section Diesel -->
      <div class="row">
        <div class="col">
          <label class="custom-font">OperaciÃ³n en Diesel</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Inicio OperaciÃ³n en Diesel:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="startDateDiesel"/>
          </div>
          <div *ngIf="submittedData && isDieselSectionVisible && f.startDateDiesel.errors" style="color:red">
            <div *ngIf="f.startDateDiesel.errors.required">Requerido</div>
          </div>
          <div *ngIf="dieselDatesValidation && isDieselSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Fin OperaciÃ³n en Diesel:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="endDateDiesel"/>
          </div>
          <div *ngIf="submittedData && isDieselSectionVisible && f.endDateDiesel.errors" style="color:red">
            <div *ngIf="f.endDateDiesel.errors.required">Requerido</div>
          </div>
          <div *ngIf="dieselDatesValidation && isDieselSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>                
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="hb" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="mb" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sb" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" *ngIf="isNormalOperationSectionVisible"><!-- Section Normal Operation -->
      <div class="row">
        <div class="col">
          <label class="custom-font">OperaciÃ³n Normal</label>
          <br/>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Inicio OperaciÃ³n Normal:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="startDateNormal"/>
          </div>
          <div *ngIf="submittedData && isNormalOperationSectionVisible && f.startDateNormal.errors" style="color:red">
            <div *ngIf="f.startDateNormal.errors.required">Requerido</div>
          </div>
          <div *ngIf="normalDatesValidation && isNormalOperationSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ha" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="ma" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sa" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
        <div class="col-md-3">
          <div class="form-group">
            <small class="form-text text-muted" >Fecha Fin OperaciÃ³n Normal:</small>
            <input class="form-control" type="date" min="{{initDate}}" formControlName="endDateNormal"/>
          </div>
          <div *ngIf="submittedData && isNormalOperationSectionVisible && f.endDateNormal.errors" style="color:red">
            <div *ngIf="f.endDateNormal.errors.required">Requerido</div>
          </div>
          <div *ngIf="normalDatesValidation && isNormalOperationSectionVisible" style="color:red">
            <div>Validar</div>
          </div>
        </div>
        
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="hb" 
            [options]="hours"
            [withEmptyOption]="false"
            label="Hora"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="mb" 
            [options]="minutes"
            [withEmptyOption]="false"
            label="Minuto"
          ></app-mat-select>
        </div>
        <div class="col-md-2 col-lg-1">
          <app-mat-select 
            [formGroup]="formTemp" 
            controlName="sb" 
            [options]="seconds"
            [withEmptyOption]="false"
            label="Segundo"
          ></app-mat-select>
        </div> 
        
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" class="my-2" *ngIf="isShotStartSectionVisible"><!-- Section Disparo And Arranque -->
      <div class="my-2"><!-- Section Disparo -->
        <div class="row">
          <div class="col">
            <label class="custom-font">Disparo</label>
            <br/>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <div class="form-group">
              <small class="form-text text-muted" >Fecha PÃ©rdida de Flama (Flame Off):</small>
              <input type="date" class="form-control" min="{{initDate}}" formControlName="flameOffDateShot"/>
            </div>
            <div *ngIf="submittedData && isShotSectionVisible && f.flameOffDateShot.errors" style="color:red">
              <div *ngIf="f.flameOffDateShot.errors.required">Requerido</div>
            </div>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ha" 
              [options]="hours"
              [withEmptyOption]="false"
              label="Hora"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ma" 
              [options]="minutes"
              [withEmptyOption]="false"
              label="Minuto"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="sa" 
              [options]="seconds"
              [withEmptyOption]="false"
              label="Segundo"
            ></app-mat-select>
          </div> 
          <div class="col-md-3">
            <div class="form-group">
                <small class="form-text text-muted" >Carga antes del disparo(MW):</small>
                <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaDisparo [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeShot" (ngModelChange)="isNumeric(cargaDisparo)" min="0" max="200"/>
            </div>
            <div *ngIf="submittedData && isShotSectionVisible && f.chargeShot.errors" style="color:red">
                <div *ngIf="f.chargeShot.errors.required">Requerido</div>
            </div>
            <div *ngIf="isShotSectionVisible && chargeValidation" style="color:red">
                <div>Verifica</div>
            </div>
          </div>
        </div>
      </div>
      <div class="my-2"><!-- Section Arranque -->
        <div class="row">
            <div class="col">
                <label class="custom-font">Arranque</label>
                <br/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <small class="form-text text-muted" >Fecha de Arranque:</small>
                    <input type="date" class="form-control" min="{{initDate}}" formControlName="flameOffDateStart"/>
                </div>
                <div *ngIf="submittedData && isStartSectionVisible && f.flameOffDateStart.errors" style="color:red">
                    <div *ngIf="f.flameOffDateStart.errors.required">Requerido</div>
                </div>
                <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
                  <div>Validar</div>
                </div>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="ha" 
                [options]="hours"
                [withEmptyOption]="false"
                label="Hora"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="ma" 
                [options]="minutes"
                [withEmptyOption]="false"
                label="Minuto"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="sa" 
                [options]="seconds"
                [withEmptyOption]="false"
                label="Segundo"
              ></app-mat-select>
            </div> 
            
            <div class="col-md-3">
              <div class="form-group">
                <small class="form-text text-muted" >Fecha Velocidad Plena sin Carga (FSNL):</small>
                <input type="date" class="form-control" type="date" formControlName="fsnlDateStart"/>
              </div>
              <div *ngIf="submittedData && isStartSectionVisible && f.fsnlDateStart.errors" style="color:red">
                <div *ngIf="f.fsnlDateStart.errors.required">Requerido</div>
              </div>
              <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
                <div>Validar</div>
              </div>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="hb" 
                [options]="hours"
                [withEmptyOption]="false"
                label="Hora"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="mb" 
                [options]="minutes"
                [withEmptyOption]="false"
                label="Minuto"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="sb" 
                [options]="seconds"
                [withEmptyOption]="false"
                label="Segundo"
              ></app-mat-select>
            </div> 
            
        </div>
      </div>
    </div>
    <div style="border-style: groove; padding: 2%" class="my-2" *ngIf="isStopStartSectionVisible"><!-- Section Paro And Arranque -->
      <div class="my-2"><!-- Section Paro -->
        <div class="row">
          <div class="col">
            <label class="custom-font">Paro</label>
            <br/>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <div class="form-group">
              <small class="form-text text-muted" >Fecha PÃ©rdida de Flama (Flame Off):</small>
              <input class="form-control" type="date" min="{{initDate}}" formControlName="flameOffDateStop"/>
            </div>
            <div *ngIf="submittedData && isStopSectionVisible && f.flameOffDateStop.errors" style="color:red">
              <div *ngIf="f.flameOffDateStop.errors.required">Requerido</div>
            </div>
            <div *ngIf="stopDatesValidation && isStopSectionVisible" style="color:red">
              <div>Validar</div>
            </div>
          </div>
          
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ha" 
              [options]="hours"
              [withEmptyOption]="false"
              label="Hora"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="ma" 
              [options]="minutes"
              [withEmptyOption]="false"
              label="Minuto"
            ></app-mat-select>
          </div>
          <div class="col-md-2 col-lg-1">
            <app-mat-select 
              [formGroup]="formTemp" 
              controlName="sa" 
              [options]="seconds"
              [withEmptyOption]="false"
              label="Segundo"
            ></app-mat-select>
          </div> 

          <div class="col-md-3">
            <div class="form-group">
              <small class="form-text text-muted" >Carga antes del paro(MW):</small>
              <input matTooltip="La carga debe ser un valor entre 0 y 200, puede incluir decimales" #cargaAntesParo [(ngModel)]="defaultCharge" class="form-control" type="number" formControlName="chargeStop" (ngModelChange)="isNumeric(cargaAntesParo)" min="0" max="200"/>
            </div>
            <div *ngIf="submittedData && isStopSectionVisible && f.chargeStop.errors" style="color:red">
              <div *ngIf="f.chargeStop.errors.required">Requerido</div>
            </div>
            <div *ngIf="isStopSectionVisible && chargeValidation" style="color:red">
              <div>Verifica</div>
            </div>
          </div>
          <div class="col-md-3">
              <div><br></div>
              <div class="form-group">
                  <mat-checkbox class="active" color="primary"
                                (change)="changeCheckStopProgrammed();"
                                [checked]="checkedStopProgrammed"
                                [disabled]="deshabiliarEstatus">
                      <mat-label>Programado</mat-label>
                  </mat-checkbox>
              </div>
          </div>
        </div>
      </div>
      <div class="my-2"><!-- Section Arranque -->
        <div class="row">
            <div class="col">
                <label class="custom-font">Arranque</label>
                <br/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <small class="form-text text-muted" >Fecha de Arranque:</small>
                    <input type="date" class="form-control" min="{{initDate}}" formControlName="flameOffDateStart"/>
                </div>
                <div *ngIf="submittedData && isStartSectionVisible && f.flameOffDateStart.errors" style="color:red">
                    <div *ngIf="f.flameOffDateStart.errors.required">Requerido</div>
                </div>
                <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
                  <div>Validar</div>
                </div>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="ha" 
                [options]="hours"
                [withEmptyOption]="false"
                label="Hora"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="ma" 
                [options]="minutes"
                [withEmptyOption]="false"
                label="Minuto"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="sa" 
                [options]="seconds"
                [withEmptyOption]="false"
                label="Segundo"
              ></app-mat-select>
            </div> 
            
            <div class="col-md-3">
              <div class="form-group">
                <small class="form-text text-muted" >Fecha Velocidad Plena sin Carga (FSNL):</small>
                <input type="date" class="form-control" type="date" formControlName="fsnlDateStart"/>
              </div>
              <div *ngIf="submittedData && isStartSectionVisible && f.fsnlDateStart.errors" style="color:red">
                <div *ngIf="f.fsnlDateStart.errors.required">Requerido</div>
              </div>
              <div *ngIf="startDatesValidation && isStartSectionVisible" style="color:red">
                <div>Validar</div>
              </div>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="hb" 
                [options]="hours"
                [withEmptyOption]="false"
                label="Hora"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="mb" 
                [options]="minutes"
                [withEmptyOption]="false"
                label="Minuto"
              ></app-mat-select>
            </div>
            <div class="col-md-2 col-lg-1">
              <app-mat-select 
                [formGroup]="formTemp" 
                controlName="sb" 
                [options]="seconds"
                [withEmptyOption]="false"
                label="Segundo"
              ></app-mat-select>
            </div> 
            
        </div>
      </div>
    </div>

    <br/>
    <div *ngIf="isDefaultSectionsVisible">
      <div class="col-md-12">
        <div class="form-group">
          <label>DescripciÃ³n</label>
          <!--<input mdbInput class="form-control" formControlName="description" (keydown)="enableSaveButton();" #description maxlength="1000">-->
          <textarea mdbInput class="form-control" formControlName="description" (keydown)="enableSaveButton();" #description maxlength="1000" rows="8"></textarea>
          <small class="form-text text-muted text-right">{{description.value?.length || 0}}/1000</small>
        </div>
        <!--
        <div *ngIf="submittedData && f.description.errors" style="color:red">
          <div *ngIf="f.description.errors.required">Requerido</div>
        </div> -->
      </div>
    </div>
  </div>
  <!-- Observaciones -->
  <div *ngIf="isDefaultSectionsVisible">
    <app-efh-comments [inIdEventConfig]="eventType.id" [inAction]="accion" [inTypeConfig]="1"></app-efh-comments>
  </div>
  <!-- End Test -->
    <div class="section" *ngIf="isDefaultSectionsVisible">
      <div class="row">
        <div class="col-md-6 col-lg-4">
          <ng-container>
            <div class="form-group">
              <label>Estado del elemento:</label><br>
              <mat-checkbox class="active" color="primary"
                            (change)="changeCheck();"
                            [checked]="checkedEstatus"
                            [disabled]="deshabiliarEstatus">
                <mat-label>Activo</mat-label>
              </mat-checkbox>
            </div>
          </ng-container>
        </div>
      </div>
      <div class="row pb-3">
        <div class="col">
            <div class="d-flex justify-content-end">
                <button type="submit" class="btn"
                        [ngClass]="{'myblue': globalService.aguila,'myorange': !globalService.aguila}"
                        [disabled]="disabledSave" *ngIf="accion != 'ver'">
                    <i class="ti-pencil"></i>
                    Guardar / Actualizar
                </button>
                <button type="button" class="btn"
                        [ngClass]="{'myblue': globalService.aguila,'myorange': !globalService.aguila}"
                        (click)="regresar()">
                    <i class="ti-angle-double-left"></i>
                    Regresar
                </button>
            </div>
        </div>
      </div>
    </div>
    <div *ngIf="isDefaultSectionsVisible && eventType.id != 0">
        <app-efh-upload [inIdEventConfig]="eventType.id" [inAccion]="accion" [inTypeConfig]="1"></app-efh-upload>
    </div>
</form>

